<html>
<head>
	<title>WholeCell Model - E. coli Image</title>
</head>

<body>		

	<p id="imageName"></p>
	<div id="table_container"></div>

	<script>
		var cont = getUrlVars()["comparisonDesc"];
		var desc = cont.split(',');
	
		var myPhoto = getUrlVars()["var1"];
	
		var onlyName = myPhoto.split('/');
		onlyName = onlyName[onlyName.length-1];
		onlyName1 = 'Image: '.concat(onlyName);
		document.getElementById("imageName").innerHTML = onlyName1;

		var root =	myPhoto.split('_');
		var root = root[0].concat("_");
		var variant = getUrlVars()["variants"];
		var seed = getUrlVars()["seeds"];

		//table 
		var container = document.getElementById("table_container");

		var table = document.createElement("table");
		document.getElementById("table_container").appendChild(table);

		for (var i=0; i < parseInt(variant); ++i) {
			var data = root;
			
			var str = ""+i;
			var pad = "000000";
			var ans = pad.substring(0, pad.length - str.length) + str;

			data = data.concat(ans);
			data = data.concat("/");

			var row = document.createElement("tr");

			var rowName = document.createElement("td");
	    	var rowNameNode = document.createTextNode(desc[i]);
			rowName.appendChild(rowNameNode);
			row.appendChild(rowName);

			for (var j=0; j < parseInt(seed); ++j) {
				str = ""+j;
				pad = "000000";
				ans = pad.substring(0, pad.length - str.length) + str;

				temp = data.concat(ans);
				temp = temp.concat("/plotOut/");
				temp = temp.concat(onlyName);

				var photo = document.createElement("td");
		    	var img = new Image();
		    	img.src = temp;
		    	img.style.height = '400px';
				photo.appendChild(img);
				row.appendChild(photo);

			}
			table.appendChild(row);
		}

		function getUrlVars() {
		    var vars = {};
		
			var url = window.location.href; //get current url
			var decodedUrl = decodeURIComponent(url);
			var parts = decodedUrl.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
		        vars[key] = value;
		    });
		    return vars;
		}
	</script>
</body>
</html>